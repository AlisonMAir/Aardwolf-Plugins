<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Sunday, March 05, 2023, 9:16 AM -->
<!-- MuClient version 5.07-pre -->

<!-- Plugin "Fractal_Callouts" generated by Plugin Wizard -->

<muclient>
<plugin
   name="Fractal_Callouts"
   author="Alison"
   id="6291811bbd48bf9be4420507"
   language="Lua"
   purpose="To automate instructions during the Fractals of the Weave event."
   save_state="y"
   date_written="2023-03-05 09:12:38"
   requires="5.07"
   version="1.0"
   >
<description trim="y">
<![CDATA[
This plugin triggers Fractals of the Weave callouts in response to the warning messages given during the event. Make sure to have yells and the Epics channel on for it to work properly. To avoid spam, only one person should be calling out instructions during Fractals. Thus, if someone else is already using this plugin to give callouts, please turn it off with "fractal off".

Commands:

fractal help callout - Display this help file.
fractal on/off - Enable/disable callout triggers.
frac <text> - Announces <text> on yell with bright colors and a (Fractal) tag so that people know it's related to the event.
fractal leader - Announces that you'll be doing callouts this run and reminds other people with the plugin to turn their callouts off.
]]>
</description>

</plugin>


<!--  Triggers  -->


<triggers>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="/\/ THE ANOMALY CASTS YOU INTO BATTLE AGAINST VOREL /\/"
   send_to="10"
   sequence="100"
  >
  <send>frac VOREL MINIGAME - @YMove@W to center and @Yattack@W Vorel.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="/\/ VOREL FALLS FROM THE SKY AND THE STORM SUBSIDES /\/"
   send_to="10"
   sequence="100"
  >
  <send>frac VOREL MINIGAME OVER - @YReturn@W to center and @Yattack@W anomaly.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="/\/ VOREL INHALES AND BREATHES A CONE OF WHITE FLAME /\/"
   send_to="10"
   sequence="100"
  >
  <send>frac VOREL BREATH - @YFlee/retreat@W from center immediately and do not return to it until I say it is safe.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="//\/ VOREL FINISHES EXHALING THE WHITE FLAME /\/"
   send_to="10"
   sequence="100"
  >
  <send>frac VOREL BREATH OVER - @YReturn@W to center and @Yattack@W Vorel.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="^'.'^  VOREL'S WYVERNGUARD FLIES IN, BREATHING FIRE INTO THE BATTLE ^'.'^"
   send_to="10"
   sequence="100"
  >
  <send>frac VOREL WYVERN - @YFlee/retreat@W from center immediately. Go to the four corners of the arena and @Ykill the Wyvernguards@W there. @YReturn@W to center and @Yattack@W Vorel when they're all dead.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="'.'^  GEYSERS OF FLAME BURST FROM VOREL'S SCALES - THE HEAT IS ON ^'.'^"
   send_to="10"
   sequence="100"
  >
  <send>frac VOREL MINIGAME - Cones and gouts of fire have now spawned. @YFlee/retreat@W if you see one of them in your room.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="!!!~~~ THE CARAVAN HAS FALLEN.  THE ANOMALY HEALS AND ROARS IN VICTORY ~~~!!!"
   send_to="10"
   sequence="100"
  >
  <send>frac CARAVAN MINIGAME FAILED - The anomaly has healed 15%. @YReturn@W to center and @Yattack@W anomaly. Sorry, everyone.</send>
  </trigger>

  <trigger
   enabled="y"
   group="fractalremindertrigger"
   match="(Epics) *: 'I am doing fractal callouts this run. Everyone else with the callout plugin, type fractal off.'"
   send_to="12"
   sequence="100"
  >
  <send>SendNoEcho("echo @W(@MFractal@W) Type @Mfractal off@W to turn your callouts off. @M%1@W will be doing callouts today.@w")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="~~  THE ANOMALY CASTS YOU TO THE UNSEELIE COURT ~~"
   send_to="10"
   sequence="100"
  >
  <send>frac FAE MINIGAME - @YHunt and kill @WArchfey Xaludar. @YHunt him again@W when he teleports you.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="~~    THE FAE CHITTER, EXCITED,    ~~"
   send_to="10"
   sequence="100"
  >
  <send>frac Fae that cast Curse of Sloth have spawned. @YKill@W them so you can move freely.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="~~  WITH THE ARCHFEY FELLED ~~"
   send_to="10"
   sequence="100"
  >
  <send>frac FAE MINIIGAME OVER - @YReturn@W to center and @Yattack@W anomaly.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="~~~ THE ANOMALY CASTS YOU FAR AWAY INTO THE DESERT ~~~"
   send_to="10"
   sequence="100"
  >
  <send>frac CARAVAN MINIGAME - @YKill@W raiders and riders and do not let them reach the center.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="~~~  RALLY!  MEDUSAS HAVE BEEN SPOTTED!  ~~~"
   send_to="10"
   sequence="100"
  >
  <send>frac CARAVAN MINIGAME - Medusas have spawned. @YKill@W them all - do not be idle, Medusas have an afk check program.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="!!!~~~ THE CARAVAN HAS BEEN SAVED! YOU ARE RETURNED TO THE FRAY! ~~~!!!"
   send_to="10"
   sequence="100"
  >
  <send>frac CARAVAN MINIGAME OVER - @YReturn@W to center and @Yattack@W anomaly.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="&lt;      THE CLOCK EXPLODES WITH A           &gt;"
   send_to="10"
   sequence="100"
  >
  <send>frac CLOCK MINIGAME OVER - @YReturn@W to center and @Yattack@W anomaly.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="------&gt;  A VAGUE, INCORPOREAL CIRCLE OF SMOKE BEGINS TO CIRCLE THE BATTLE &lt;------"
   send_to="10"
   sequence="100"
  >
  <send>frac CLOCK MINIGAME - @YFlee/retreat@W from center immediately and do not return to it until I say it is safe.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="^\*\*      ONE BY ONE THE COMBATANTS      \*\*$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>frac LAMP MINIGAME - If you are in a maze, walk around to find and @Yattack the core@W. Call out that core is on you if you find it so people can hunt to you. Call out when you have killed the core.

frac If you are not in a maze, walk around to find and @Yattack the fractal lamp@W, but do not kill it until the core is dead.</send>
  </trigger>
  <trigger
  enabled="y"
  group="fractaltrigger"
  match="^\*\*\*       MORE BAD POETRY             \*\*\*$"
  regexp="y"
  send_to="10"
  sequence="100"
 >
 <send>frac LAMP MINIGAME OVER - @YReturn@W to center and @Yattack@W anomaly.</send>
  </trigger>	
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="&gt;&gt;&gt;&gt;&gt; INTO A DARK CRATER AT THE CENTER OF THE ROOM  &lt;&lt;&lt;&lt;&lt;"
   send_to="10"
   sequence="100"
  >
  <send>epics @W(@MFractals@W) @WFractals of the Weave has started. Please turn on yells if you are participating so you can hear the callouts.@w
frac Fractals of the Weave has started. Go 3s of recall, @Yenter abyss@W, then @Yattack anomaly@W.
enter abyss</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="!!!!          A TIDALWAVE OF FLAME RUSHES IN          !!!!"
   send_to="10"
   sequence="100"
  >
  <send>frac TIDAL WAVE MINIGAME - I will call out a direction. @YGo to the furthest room in that direction@W immediately and wait there until I say it is safe.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="!!!   THE LAMP'S CORE REMAINED    !!!"
   send_to="10"
   sequence="100"
  >
  <send>frac LAMP MINIGAME OVER - @YReturn@W to center and @Yattack@W anomaly. May those who died rest in peace.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="^\^\^\/  ODD\, MALIGNANT STALAGMITES COME INTO BEING  \\\^\^$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>frac PYLON MINIGAME - @YFlee/retreat@W from center immediately. Go to the four corners of the arena and @Ykill the pylons@W there. @YReturn@W to center and @Yattack@W anomaly when they're all dead.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="^\*\*\*       The weave is calm again.       \*\*\*$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>frac Victory! @YReturn@W to the center. To collect your reward: nod, unkeep frac, give frac frac. If you have Fractal Helper, just type "frac" to use its inbuilt alias.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match=" !!! THE FLAMES DIE OUT.  THE AIR SIMMERS STILL !!!"
   send_to="10"
   sequence="100"
  >
  <send>frac TIDAL WAVE MINIGAME OVER - @YReturn@W to center and @Yattack@W anomaly.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="!!!!------&gt;&gt; A SHRILL WHINE PIERCES THE AIR &lt;&lt;------!!!!"
   send_to="10"
   sequence="100"
  >
  <send>frac FIRE BLOSSOM MINIGAME - @YFlee/retreat@W from center immediately. I will call out two corners. @YProceed to one of them@W and wait until I say it is safe.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="!!!!------&gt;&gt; THE INFERNAL PETALS FALL AND THE AIR COOLS DOWN &lt;&lt;------!!!!"
   send_to="10"
   sequence="100"
  >
  <send>frac FIRE BLOSSOM MINIGAME OVER - @YReturn@W to center and @Yattack@W anomaly.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="~~~~      A PHANTASM SHATTERS INTO      ~~~~"
   send_to="10"
   sequence="100"
  >
  <send>frac FAKE ANOMALY MINIGAME OVER - @YReturn@W to center and @Yattack@W anomaly.</send>
  </trigger>
  <trigger
   enabled="y"
   group="fractaltrigger"
   match="~~~~   THE FRACTAL ANOMALY STEPS BACK   ~~~~"
   send_to="10"
   sequence="100"
  >
  <send>frac FAKE ANOMALY MINIGAME - There's an anomaly in each of the four nooks (N/S/E/W). @YFind and kill@W the real one: it will have the phrase "Despite being somewhat unique" in its description. </send>
  </trigger>
</triggers>

<!--  Aliases  -->

<aliases>
  <alias
   match="fractal leader"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>
  EnableTriggerGroup("fractalremindertrigger, false)
  SendNoEcho("epics @wI am doing fractal callouts this run. Everyone else with the callout plugin, type@w @Wfractal off@w.")
  EnableTriggerGroup("fractalremindertrigger, true)
  </send>
  </alias>
  <alias
   match="fractal off"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>EnableTriggerGroup("fractaltrigger", false)
SendNoEcho("echo @W(@MFractal@W) Fractal callouts turned off.@w")</send>
  </alias>
  <alias
   match="fractal on"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>EnableTriggerGroup("fractaltrigger", true)
SendNoEcho("echo @W(@MFractal@W) Fractal callouts turned on. Make sure you're the only one doing callouts!@w")</send>
  </alias>
  <alias
   match="frac *"
   enabled="y"
   sequence="100"
  >
  <send>yell @W(@MFractals@W) @W%1@w</send>
  </alias>
</aliases>

<!--  Plugin help  -->

<aliases>
  <alias
   script="OnHelp"
   match="fractal help callout"
   enabled="y"
  >
  </alias>
</aliases>

<script>
<![CDATA[
function OnHelp ()
  world.Note (world.GetPluginInfo (world.GetPluginID (), 3))
end

function OnPluginInstall ()
	OnHelp()
end
]]>


</script> 

</muclient>
